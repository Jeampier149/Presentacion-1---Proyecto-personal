<app-breadcrumb [rutas]="rutas" [titulo]="'Registrar Datos'"></app-breadcrumb>

<div class="row">
  <div class="col-xl-12">
    <div class="card ps-lg-4">
      <div class="card-body">
        <div class="row pt-2">
          <div class="col-xl-12">
            <app-loading [mostrar]="loading">

              <!-- ═══════════════════════════════════════════════ -->
              <!-- TIPO DOCUMENTO / NACIONALIDAD                  -->
              <!-- ═══════════════════════════════════════════════ -->
              <div class="row data-local d-flex justify-content-between">
                <div class="col-xl-4">
                  <div class="row me-1">
                    <div class="col-xl-6 col-sm-6">
                      <div class="form-group">
                        <label class="form-label form-label-sm">TIPO DOCUMENTO</label>
                        <select class="form-select form-select-sm" required bsInvalid
                          [(ngModel)]="tipoDoc" (change)="cambioNacionalidad()">
                          <option value="" selected>Seleccionar</option>
                          <option *ngFor="let tipoD of datos" [value]="tipoD.id">
                            {{ tipoD.descripcion }}
                          </option>
                        </select>
                      </div>
                    </div>

                    <div class="col-xl-6 col-sm-6">
                      <div class="form-group">
                        <label for="numero_doc">N° DOCUMENTO</label>
                        <div class="input-group">
                          <input type="text" class="form-control form-control-sm"
                            [(ngModel)]="numeroDocumento" maxlength="10" required bsInvalid>
                          <button class="btn btn-primary btn-sm" type="button"
                            (click)="buscarDocumento(numeroDocumento)">
                            <i class="fa-solid fa-magnifying-glass"></i>
                          </button>
                          <div class="invalid-feedback">El documento es un campo obligatorio</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-xl-3 mt-lg-4 me-lg-4">
                  <div class="input-group input-group-sm">
                    <div class="input-group-text d-personales">Nacionalidad</div>
                    <input type="text" class="form-control text-uppercase"
                      bsInvalid required [(ngModel)]="nacionalidad">
                  </div>
                </div>
              </div>

              <!-- ═══════════════════════════════════════════════ -->
              <!-- DATOS PERSONALES                               -->
              <!-- ═══════════════════════════════════════════════ -->
              <div class="row mt-4 d-flex justify-content-center">

                <!-- Foto -->
                <div class="col-xl-2 col-md-3 col-sm-12 d-flex flex-column mb-3">
                  <ngx-dropzone (change)="onSelect($event)" class="d-flex justify-content-center" [multiple]="false">
                    <ngx-dropzone-label>Arrastre o elija una imagen</ngx-dropzone-label>
                    <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview"
                      *ngFor="let f of files" [file]="f" [removable]="true" (removed)="onRemove(f)">
                    </ngx-dropzone-image-preview>
                  </ngx-dropzone>
                  <div class="row mt-3 w-100">
                    <div class="col-12 d-flex justify-content-center">
                      <button type="button" class="btn btn-primary btn-sm" (click)="tomarFoto()">
                        <i class="fas fa-camera"></i> Tomar Foto
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Campos personales -->
                <div class="col-xl-10 col-md-9 col-sm-12 mt-lg-4 m-0 p-0">
                  <div class="row">

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Apell. Paterno</div>
                        <input type="text" class="form-control text-uppercase"
                          bsInvalid required [(ngModel)]="aPaterno" maxlength="40">
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Apell. Materno</div>
                        <input type="text" class="form-control text-uppercase"
                          [(ngModel)]="aMaterno" required bsInvalid maxlength="40">
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Nombres</div>
                        <input type="text" class="form-control text-uppercase"
                          required [(ngModel)]="nombres" bsInvalid maxlength="30">
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Sexo</div>
                        <select class="form-select form-select-sm" required bsInvalid [(ngModel)]="sexo">
                          <option value="" selected>Seleccionar</option>
                          <option *ngFor="let tipoS of tipoSexo" [value]="tipoS.tipo">{{ tipoS.tipo }}</option>
                        </select>
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1" [formGroup]="valGroup">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">RUC N°</div>
                        <input type="text" class="form-control form-control-sm"
                          formControlName="ruc" bsInvalid>
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">F. Nacimiento</div>
                        <input type="date" class="form-control form-control-sm"
                          required [(ngModel)]="fNacimiento">
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1" [formGroup]="valGroup">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Teléfono Fijo</div>
                        <input type="text" class="form-control form-control-sm"
                          formControlName="telFijo" bsInvalid>
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1" [formGroup]="valGroup">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Teléfono Móvil</div>
                        <input type="text" class="form-control form-control-sm"
                          formControlName="telMovil" bsInvalid>
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1" [formGroup]="valGroup">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Correo E.</div>
                        <input type="email" class="form-control form-control-sm"
                          bsInvalid required formControlName="correo">
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">G. Sanguíneo</div>
                        <select class="form-select form-select-sm" required [(ngModel)]="gSanguineo" bsInvalid>
                          <option value="" selected>Seleccionar</option>
                          <option *ngFor="let tipoGs of tipoGrupoSanguineo" [value]="tipoGs.id">
                            {{ tipoGs.descripcion }}
                          </option>
                        </select>
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Enf./Alergias</div>
                        <input type="text" class="form-control form-control-sm" [(ngModel)]="enfAlergias">
                      </div>
                    </div>

                    <div class="col-xl-4 col-md-6 col-sm-6 mb-1">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-personales">Estado Civil</div>
                        <select class="form-select form-select-sm" [(ngModel)]="estadoCivil" bsInvalid required>
                          <option value="" selected>Seleccionar</option>
                          <option *ngFor="let tipoX of tipoEstadoCivil" [value]="tipoX.descripcion">
                            {{ tipoX.descripcion }}
                          </option>
                        </select>
                      </div>
                    </div>

                  </div>
                </div>
              </div>

              <!-- ═══════════════════════════════════════════════ -->
              <!-- CONTACTO DE EMERGENCIA                         -->
              <!-- ═══════════════════════════════════════════════ -->
              <div class="card border mt-3">
                <div class="card-header bg-transparent p-2">
                  <h6 class="my-0 ">En caso de emergencia contactar a:</h6>
                </div>
                <div class="card-body p-3 ps-0">
                  <div class="row d-flex justify-content-around">
                    <div class="col-xl-4 mb-1 ps-0">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-ancho">Nombre contacto</div>
                        <input type="text" class="form-control form-control-sm"
                          [(ngModel)]="nombreContacto" maxlength="40">
                      </div>
                    </div>

                    <div class="col-xl-3 mb-1 ps-0">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-ancho">Parentesco</div>
                        <select class="form-select form-select-sm" [(ngModel)]="parentesco">
                          <option value="" selected>Seleccionar</option>
                          <option *ngFor="let tipoPa of tipoParentesco" [value]="tipoPa.parentesco">
                            {{ tipoPa.parentesco }}
                          </option>
                        </select>
                      </div>
                    </div>

                    <div class="col-xl-3 mb-1 ps-0" [formGroup]="valGroup">
                      <div class="input-group input-group-sm">
                        <div class="input-group-text d-ancho">N° de contacto</div>
                        <input type="text" class="form-control form-control-sm"
                          formControlName="numContacto" bsInvalid>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- ═══════════════════════════════════════════════ -->
              <!-- DISCAPACIDAD                                   -->
              <!-- ═══════════════════════════════════════════════ -->
              <div class="row d-flex align-items-baseline mt-3">
                <div class="col-xl-3 p-3 col-12">
                  <div class="form-check form-switch">
                    <label class="form-check-label">
                      <span>{{ tieneDiscapacidad ? 'Si' : 'No' }}</span> Presenta Discapacidad
                    </label>
                   <input class="form-check-input position-end" type="checkbox"
                     [checked]="tieneDiscapacidad"
                     (change)="tieneDiscapacidad = !tieneDiscapacidad">
                  </div>
                </div>
                @if(tieneDiscapacidad){
                <div class="col-xl-5 col-12 ms-2 d-xl-flex justify-content-between align-items-baseline">
                  <div class="input-group input-group-sm custom-select col-12">
                    <div class="input-group-text col-auto">T. Discapacidad</div>
                    <ng-select [(ngModel)]="discapacidades" [multiple]="true"
                      [items]="tipoDiscapacidad" bindLabel="tipo" bindValue="tipo"
                      class="d-block form-control" style="font-size: 0.8rem; height: auto;">
                    </ng-select>
                  </div>
                  <div class="col-xl-5 col-12 mt-2 mt-xl-0 ms-2">
                    <input class="form-control form-control-sm" type="file"
                      (change)="seleccionarArchivoDiscapacidad($event)">
                  </div>
                </div>
                }
          
              </div>

              <!-- ═══════════════════════════════════════════════ -->
              <!-- ACORDEONES                                     -->
              <!-- ═══════════════════════════════════════════════ -->
              <div class="row w-100 d-block p-0">
                <div class="accordion mt-4" id="accordionPanelsStayOpenExample">

                  <!-- ── DOMICILIO ─────────────────────────────── -->
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="heading-domicilio">
                      <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapse-domicilio">
                        DATOS DEL DOMICILIO
                      </button>
                    </h2>
                    <div id="collapse-domicilio" class="accordion-collapse collapse">
                      <div class="accordion-body text-muted">
                        <div class="row mt-3">

                          <div class="col-xl-4 mb-1">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-personales">Departamento</div>
                              <input type="text" class="form-control form-control-sm" [(ngModel)]="departamento">
                            </div>
                          </div>

                          <div class="col-xl-4 mb-2">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-personales">Provincia</div>
                              <input type="text" class="form-control form-control-sm" [(ngModel)]="provincia">
                            </div>
                          </div>

                          <div class="col-xl-4 mb-2">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-ancho">Distrito</div>
                              <input type="text" class="form-control form-control-sm" [(ngModel)]="distrito">
                            </div>
                          </div>

                          <div class="col-xl-4 mb-2">
                            <div class="input-group input-group-sm custom-select">
                              <div class="input-group-text col-auto d-ancho">Vía</div>
                              <ng-select [(ngModel)]="via" [items]="tipoVia"
                                bindLabel="tipo" bindValue="tipo"
                                class="d-block form-control" style="font-size: 0.8rem; height: auto;">
                              </ng-select>
                            </div>
                          </div>

                          @if(via && via !== '') {
                            <div class="col-xl-4 mb-2">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text d-personales">Nombre de la vía</div>
                                <input type="text" class="form-control" [(ngModel)]="nombreVia" maxlength="150">
                              </div>
                            </div>
                            <div class="col-xl-2 mb-2">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text d-ancho">Número</div>
                                <input type="number" class="form-control form-control-sm" [(ngModel)]="numeroVia">
                              </div>
                            </div>
                            <div class="col-xl-2 mb-2">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text d-ancho">Interior</div>
                                <input type="text" class="form-control form-control-sm" [(ngModel)]="interiorVia">
                              </div>
                            </div>
                          }

                          <div class="col-xl-4 mb-2">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-ancho">Zona</div>
                              <ng-select [(ngModel)]="zona" [items]="tipoZona"
                                bindLabel="tipo" bindValue="tipo"
                                class="d-block form-control" style="font-size: 0.8rem; height: auto;">
                              </ng-select>
                            </div>
                          </div>

                          @if(zona && zona !== '') {
                            <div class="col-xl-4 mb-2">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text d-personales">Nombre de Zona</div>
                                <input type="text" class="form-control" [(ngModel)]="nombreZona" maxlength="150">
                              </div>
                            </div>
                            <div class="col-xl-2 mb-2">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text d-ancho">Número</div>
                                <input type="number" class="form-control form-control-sm" [(ngModel)]="numeroZona">
                              </div>
                            </div>
                            <div class="col-xl-2 mb-2">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text d-ancho">Interior</div>
                                <input type="text" class="form-control form-control-sm" [(ngModel)]="interiorZona">
                              </div>
                            </div>
                          }

                          <div class="row mt-2">
                            <div class="col-xl-12">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text">Referencia</div>
                                <input type="text" class="form-control form-control-sm"
                                  [(ngModel)]="referenciaDomicilio" maxlength="250">
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- ── FAMILIARES ─────────────────────────────── -->
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="heading-familiares">
                      <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapse-familiares">
                        DATOS FAMILIARES
                      </button>
                    </h2>
                    <div id="collapse-familiares" class="accordion-collapse collapse">
                      <div class="accordion-body text-muted">
                        <div class="row w-100 mt-3">
                          <div class="row">
                            <div class="col-xl-4">
                              <button type="button" class="btn bg-agg btn-sm" (click)="agregarFamiliar()">
                                <i class="fa-solid fa-square-plus"></i> Agregar
                              </button>
                              <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosFamiliares()">
                                <i class="fas fa-dot-circle"></i> Sin Datos
                              </button>
                            </div>
                          </div>

                          <div class="row table-responsive mt-2">
                            <table class="table">
                              <thead>
                                <tr>
                                  <th style="min-width:130px;">T. Documento</th>
                                  <th style="min-width:130px;">N° Doc</th>
                                  <th style="min-width:150px;">Nombres</th>
                                  <th style="min-width:150px;">Apellidos</th>
                                  <th style="min-width:150px;">F. de Nacimiento</th>
                                  <th style="min-width:150px;">Parentesco</th>
                                  <th>Institución/Entidad</th>
                                  <th></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let familiar of familiares; let i = index">
                                  <td>
                                    <select class="form-select form-select-sm"
                                      [(ngModel)]="familiar.tipoD" [id]="'tipoD'+i" [name]="'tipoD'+i">
                                      <option value="" selected>Seleccionar</option>
                                      <option *ngFor="let tipoD of datos" [value]="tipoD.descripcion">
                                        {{ tipoD.desCorta }}
                                      </option>
                                    </select>
                                  </td>
                                  <td>
                                    <div class="input-group">
                                      <input type="text" class="form-control form-control-sm"
                                        [id]="'dni'+i" [name]="'dni'+i" [(ngModel)]="familiar.dni" required>
                                      <button class="btn btn-primary btn-sm" type="button"
                                        (click)="buscarDocumentoFamiliar(familiar.dni, i, familiar.tipoD)">
                                        <i class="fa-solid fa-magnifying-glass"></i>
                                      </button>
                                    </div>
                                  </td>
                                  <td>
                                    <input type="text" class="form-control form-control-sm"
                                      [id]="'nombre'+i" [name]="'nombre'+i" [(ngModel)]="familiar.nombre">
                                  </td>
                                  <td>
                                    <input type="text" class="form-control form-control-sm"
                                      [id]="'apellidos'+i" [name]="'apellidos'+i" [(ngModel)]="familiar.apellidos">
                                  </td>
                                  <td>
                                    <input type="date" class="form-control form-control-sm"
                                      [id]="'fechaNacimiento'+i" [name]="'fechaNacimiento'+i"
                                      [(ngModel)]="familiar.fechaNacimiento">
                                  </td>
                                  <td>
                                    <select class="form-select form-select-sm"
                                      [(ngModel)]="familiar.parentesco"
                                      [id]="'parentesco'+i" [name]="'parentesco'+i">
                                      <option value="" selected>Seleccionar</option>
                                      <option *ngFor="let tipoPa of tipoParentesco" [value]="tipoPa.parentesco">
                                        {{ tipoPa.parentesco }}
                                      </option>
                                    </select>
                                  </td>
                                  <td>
                                    <input type="text" class="form-control form-control-sm"
                                      [id]="'centroLaboral'+i" [name]="'centroLaboral'+i"
                                      [(ngModel)]="familiar.centroLaboral">
                                  </td>
                                  <td>
                                    <button type="button" class="btn bg-delete btn-sm"
                                      (click)="eliminarItem(i, 'familiares')">
                                      <i class="fa-solid fa-xmark"></i>
                                    </button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            @if(divFamiliar) {
                              <p class="text-center fw-bold">SIN DATOS POR REGISTRAR</p>
                            }
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- ── INFORMACIÓN PROFESIONAL / ACADÉMICA ────── -->
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="heading-academica">
                      <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapse-academica">
                        INFORMACIÓN PROFESIONAL Y/O ACADÉMICA
                      </button>
                    </h2>
                    <div id="collapse-academica" class="accordion-collapse collapse">
                      <div class="accordion-body text-muted">
                        <div class="row d-block w-100 mt-3">

                          <!-- Profesión -->
                          <div class="row mt-2">
                            <div class="col-xl-6">
                              <div class="input-group input-group-sm">
                                <div class="input-group-text">Profesión</div>
                                <input type="text" list="profesiones" class="form-control form-control-sm"
                                  [(ngModel)]="profesion">
                                <datalist id="profesiones">
                                  <option *ngFor="let tipProfe of tipoProfesiones" [value]="tipProfe.profesion">
                                    {{ tipProfe.profesion }}
                                  </option>
                                </datalist>
                              </div>
                            </div>
                            <div class="col-xl-6">
                              <div class="form-check form-switch mt-3 mt-lg-0">
                                <label class="form-check-label">
                                <span>{{ tieneColegiatura ? '' : 'No' }}</span> Tiene Colegiatura
                                </label>
                                <input class="form-check-input position-end" type="checkbox"
                                        [checked]="tieneColegiatura"
                                        (change)="tieneColegiatura = !tieneColegiatura">
                              </div>
                            </div>
                          </div>

                          @if(tieneColegiatura) {
                            <div class="row mt-2">
                              <div class="col-xl-3">
                                <div class="input-group input-group-sm">
                                  <div class="input-group-text">Lugar de Colegiatura</div>
                                  <input type="text" class="form-control form-control-sm" [(ngModel)]="lugarColeg">
                                </div>
                              </div>
                              <div class="col-xl-3">
                                <div class="input-group input-group-sm">
                                  <div class="input-group-text">F. de Colegiatura</div>
                                  <input type="date" class="form-control form-control-sm" [(ngModel)]="fechColeg">
                                </div>
                              </div>
                              <div class="col-xl-3">
                                <div class="input-group input-group-sm">
                                  <div class="input-group-text">F. Término de Habilitación</div>
                                  <input type="date" class="form-control form-control-sm" [(ngModel)]="fechTerColeg">
                                </div>
                              </div>
                              <div class="col-xl-3">
                                <div class="input-group input-group-sm">
                                  <div class="input-group-text">N° Colegiatura</div>
                                  <input type="text" class="form-control form-control-sm" [(ngModel)]="numColeg">
                                </div>
                              </div>
                            </div>
                          }

                          <!-- Estudios Superiores -->
                          <div class="card border mt-3">
                            <div class="card-header bg-transparent p-2">
                              <h6 class="my-0">Estudios Superiores (Universitarios - Técnicos)</h6>
                            </div>
                            <div class="card-body p-3">
                              <div class="row">
                                <div class="col-xl-4">
                                  <button type="button" class="btn bg-agg btn-sm" (click)="agregarEstudioSuperior()">
                                    <i class="fa-solid fa-square-plus"></i> Agregar
                                  </button>
                                  <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosSuperiores()">
                                    <i class="fas fa-dot-circle"></i> Sin Datos
                                  </button>
                                </div>
                              </div>
                              <div class="row table-responsive mt-2">
                                <table class="table">
                                  <thead>
                                    <tr>
                                      <th style="width:200px; min-width:150px;">Tipo</th>
                                      <th style="width:220px; min-width:150px;">Centro de Estudios</th>
                                      <th style="width:200px; min-width:150px;">Especialidad</th>
                                      <th style="width:150px; min-width:130px;">F. Inicio</th>
                                      <th style="width:150px; min-width:130px;">F. Término</th>
                                      <th style="width:200px; min-width:150px;">Nivel Alcanzado</th>
                                      <th style="width:220px; min-width:150px;">Documento</th>
                                      <th></th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let superior of estudioSuperior; let i = index">
                                      <td>
                                        <select class="form-select form-select-sm" [(ngModel)]="superior.tipo"
                                          [id]="'tipoSup'+i" [name]="'tipoSup'+i">
                                          <option value="UNIVERSITARIO">Universitario</option>
                                          <option value="TECNICO">Técnico</option>
                                        </select>
                                      </td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="superior.centro"[class.is-invalid]="!superior.centro && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="superior.especialidad"  [class.is-invalid]="!superior.especialidad && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="superior.inicio" [class.is-invalid]="!superior.inicio && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="superior.termino" [class.is-invalid]="!superior.termino && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td>
                                        <select class="form-select form-select-sm" [(ngModel)]="superior.nivel" [class.is-invalid]="!superior.nivel && intentoGuardar"
                                          [id]="'nivelSup'+i" [name]="'nivelSup'+i">
                                          <option value="TITULADO">Titulado</option>
                                          <option value="BACHILLER">Bachiller</option>
                                          <option value="EGRESADO">Egresado</option>
                                          <option value="ESTUDIANTE">Estudiante</option>
                                        </select>
                                        <div class="invalid-feedback"></div>
                                      </td>
                                      <td>
                                        <input type="file" class="form-control form-control-sm" 
                                          accept="application/pdf" (change)="seleccionarArchivoEst($event, i)">
 
                                      </td>
                                      <td>
                                        <button type="button" class="btn bg-delete btn-sm"
                                          (click)="eliminarItem(i, 'estudioSuperior')">
                                          <i class="fa-solid fa-xmark"></i>
                                        </button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                                @if(divSuperior) {
                                  <p class="text-center fw-bold">SIN DATOS ESTUDIO SUPERIOR</p>
                                }
                              </div>
                            </div>
                          </div>

                          <!-- Estudios Postgrado -->
                          <div class="card border mt-3">
                            <div class="card-header bg-transparent p-2">
                              <h6 class="my-0">Estudios Postgrado (Maestría - Doctorado)</h6>
                            </div>
                            <div class="card-body p-3">
                              <div class="row">
                                <div class="col-xl-4">
                                  <button type="button" class="btn bg-agg btn-sm" (click)="agregarEstudioPostgrado()">
                                    <i class="fa-solid fa-square-plus"></i> Agregar
                                  </button>
                                  <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosPostgrado()">
                                    <i class="fas fa-dot-circle"></i> Sin Datos
                                  </button>
                                </div>
                              </div>
                              <div class="row table-responsive mt-2">
                                <table class="table">
                                  <thead>
                                    <tr>
                                      <th style="width:200px; min-width:150px;">Tipo</th>
                                      <th style="width:220px; min-width:150px;">Centro de Estudios</th>
                                      <th style="width:200px; min-width:150px;">Especialidad</th>
                                      <th style="width:150px; min-width:130px;">F. Inicio</th>
                                      <th style="width:150px; min-width:130px;">F. Término</th>
                                      <th style="width:200px; min-width:150px;">Nivel Alcanzado</th>
                                      <th style="width:220px; min-width:150px;">Documento</th>
                                      <th></th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let postg of estudioPostgrado; let i = index">
                                      <td>
                                        <select class="form-select form-select-sm" [(ngModel)]="postg.tipo"
                                          [id]="'tipoPg'+i" [name]="'tipoPg'+i">
                                          <option value="MAESTRIA">Maestría</option>
                                          <option value="DOCTORADO">Doctorado</option>
                                        </select>
                                      </td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="postg.centro" [class.is-invalid]="!postg.centro && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="postg.especialidad" [class.is-invalid]="!postg.especialidad && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="postg.inicio" [class.is-invalid]="!postg.inicio && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="postg.termino" [class.is-invalid]="!postg.termino && intentoGuardar"><div class="invalid-feedback"></div></td>
                                      <td>
                                        <select class="form-select form-select-sm" [(ngModel)]="postg.nivel" [class.is-invalid]="!postg.nivel && intentoGuardar"
                                          [id]="'nivelPg'+i" [name]="'nivelPg'+i">
                                          <option value="MAESTRIA">Maestría</option>
                                          <option value="DOCTORADO">Doctorado</option>
                                          <option value="EGRESADO">Egresado</option>
                                          <option value="ESTUDIANTE">Estudiante</option>
                                        </select>
                                        <div class="invalid-feedback"></div>
                                      </td>
                                      <td>
                                        <input type="file" class="form-control form-control-sm"
                                          accept="application/pdf" (change)="seleccionarArchivoPg($event, i)">
                                      </td>
                                      <td>
                                        <button type="button" class="btn bg-delete btn-sm"
                                          (click)="eliminarItem(i, 'estudioPostgrado')">
                                          <i class="fa-solid fa-xmark"></i>
                                        </button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                                @if(divPostgrado) {
                                  <p class="text-center fw-bold">SIN DATOS POSTGRADO</p>
                                }
                              </div>
                            </div>
                          </div>

                          <!-- Especialización / Diplomados -->
                          <div class="card border mt-3">
                            <div class="card-header bg-transparent p-2">
                              <h6 class="my-0">Especialización - Diplomados</h6>
                            </div>
                            <div class="card-body p-3">
                              <div class="row">
                                <div class="col-xl-4">
                                  <button type="button" class="btn bg-agg btn-sm" (click)="agregarEspecializacion()">
                                    <i class="fa-solid fa-square-plus"></i> Agregar
                                  </button>
                                  <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosEspecializacion()">
                                    <i class="fas fa-dot-circle"></i> Sin Datos
                                  </button>
                                </div>
                              </div>
                              <div class="row table-responsive mt-2">
                                <table class="table">
                                  <thead>
                                    <tr>
                                      <th style="width:200px; min-width:150px;">Tipo</th>
                                      <th style="width:220px; min-width:150px;">Centro de Estudios</th>
                                      <th style="width:200px; min-width:150px;">Materia</th>
                                      <th style="width:150px; min-width:130px;">F. Inicio</th>
                                      <th style="width:150px; min-width:130px;">F. Término</th>
                                      <th style="width:200px; min-width:150px;">Certificado</th>
                                      <th style="width:220px; min-width:150px;">Documento</th>
                                      <th></th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let espe of especializacion; let i = index">
                                      <td>
                                        <select class="form-select form-select-sm" [(ngModel)]="espe.tipo"
                                          [id]="'tipoEsp'+i" [name]="'tipoEsp'+i">
                                          <option value="ESPECIALIZACION">Especialización</option>
                                          <option value="DIPLOMADO">Diplomado</option>
                                        </select>
                                      </td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="espe.centro" [class.is-invalid]="!espe.centro && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="espe.materia" [class.is-invalid]="!espe.materia && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="espe.inicio" [class.is-invalid]="!espe.inicio && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="espe.termino" [class.is-invalid]="!espe.termino && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="espe.certificacion" [class.is-invalid]="!espe.certificacion && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td>
                                        <input type="file" class="form-control form-control-sm"
                                          accept="application/pdf" (change)="seleccionarArchivoEspecialidad($event, i)">
                                      </td>
                                      <td>
                                        <button type="button" class="btn bg-delete btn-sm"
                                          (click)="eliminarItem(i, 'especializacion')">
                                          <i class="fa-solid fa-xmark"></i>
                                        </button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                                @if(divEspecializacion) {
                                  <p class="text-center fw-bold">SIN DATOS DE ESPECIALIZACIÓN</p>
                                }
                              </div>
                            </div>
                          </div>

                          <!-- Cursos / Seminarios -->
                          <div class="card border mt-3">
                            <div class="card-header bg-transparent p-2">
                              <h6 class="my-0">Curso - Seminario</h6>
                            </div>
                            <div class="card-body p-3">
                              <div class="row">
                                <div class="col-xl-4">
                                  <button type="button" class="btn bg-agg btn-sm" (click)="agregarCursos()">
                                    <i class="fa-solid fa-square-plus"></i> Agregar
                                  </button>
                                  <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosCursos()">
                                    <i class="fas fa-dot-circle"></i> Sin Datos
                                  </button>
                                </div>
                              </div>
                              <div class="row table-responsive mt-2">
                                <table class="table">
                                  <thead>
                                    <tr>
                                      <th style="width:200px; min-width:150px;">Tipo</th>
                                      <th style="width:220px; min-width:150px;">Centro de Estudios</th>
                                      <th style="width:200px; min-width:150px;">Materia</th>
                                      <th style="width:150px; min-width:130px;">F. Inicio</th>
                                      <th style="width:150px; min-width:130px;">F. Término</th>
                                      <th style="width:200px; min-width:150px;">Certificación</th>
                                      <th style="width:220px; min-width:150px;">Documento</th>
                                      <th></th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let curso of cursos; let i = index">
                                      <td>
                                        <select class="form-select form-select-sm" [(ngModel)]="curso.tipo"
                                          [id]="'tipoCur'+i" [name]="'tipoCur'+i">
                                          <option value="ESPECIALIZACION">Curso</option>
                                          <option value="DIPLOMADO">Seminario</option>
                                        </select>
                                      </td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="curso.centro" [class.is-invalid]="!curso.centro && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="curso.materia" [class.is-invalid]="!curso.materia && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="curso.inicio" [class.is-invalid]="!curso.inicio && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="date" class="form-control form-control-sm" [(ngModel)]="curso.termino" [class.is-invalid]="!curso.termino && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td><input type="text" class="form-control form-control-sm" [(ngModel)]="curso.certificacion" [class.is-invalid]="!curso.certificacion && intentoGuardar"> <div class="invalid-feedback"></div></td>
                                      <td>
                                        <input type="file" class="form-control form-control-sm"
                                          accept="application/pdf" (change)="seleccionarArchivoCurso($event, i)">
                                      </td>
                                      <td>
                                        <button type="button" class="btn bg-delete btn-sm"
                                          (click)="eliminarItem(i, 'cursos')">
                                          <i class="fa-solid fa-xmark"></i>
                                        </button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                                @if(divCursos) {
                                  <p class="text-center fw-bold">SIN DATOS DE CURSOS</p>
                                }
                              </div>
                            </div>
                          </div>

                          <!-- Idiomas -->
                          <div class="card border mt-3">
                            <div class="card-header bg-transparent p-2">
                              <h6 class="my-0">Idiomas</h6>
                            </div>
                            <div class="card-body p-3">
                              <div class="row">
                                <div class="col-xl-4">
                                  <button type="button" class="btn bg-agg btn-sm" (click)="agregarIdioma()">
                                    <i class="fa-solid fa-square-plus"></i> Agregar
                                  </button>
                                  <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosIdiomas()">
                                    <i class="fas fa-dot-circle"></i> Sin Datos
                                  </button>
                                </div>
                              </div>
                              <div class="row table-responsive mt-2">
                                <table class="table">
                                  <thead>
                                    <tr>
                                      <th style="width:250px; min-width:150px;">Lengua Extranjera</th>
                                      <th style="width:250px; min-width:150px;">Nivel</th>
                                      <th style="width:250px; min-width:150px;">Documento</th>
                                      <th></th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let idioma of idiomas; let i = index">
                                      <td>
                                        <input type="text" class="form-control form-control-sm"
                                          [id]="'lengua'+i" [name]="'lengua'+i" [(ngModel)]="idioma.lenguaE" required>
                                      </td>
                                      <td>
                                        <input type="text" list="nivelIdioma" class="form-control form-control-sm"
                                          [(ngModel)]="idioma.nivel">
                                        <datalist id="nivelIdioma">
                                          <option *ngFor="let nive of nivelIdioma" [value]="nive.nivel">{{ nive.nivel }}</option>
                                        </datalist>
                                      </td>
                                      <td>
                                        <input type="file" class="form-control form-control-sm"
                                          accept="application/pdf" (change)="seleccionarArchivoIdioma($event, i)">
                                      </td>
                                      <td>
                                        <button type="button" class="btn bg-delete btn-sm"
                                          (click)="eliminarItem(i, 'idiomas')">
                                          <i class="fa-solid fa-xmark"></i>
                                        </button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                                @if(divIdioma) {
                                  <p class="text-center fw-bold">SIN DATOS DE IDIOMAS</p>
                                }
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- ── DATOS LABORALES ─────────────────────────── -->
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="heading-laborales">
                      <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapse-laborales">
                        DATOS LABORALES
                      </button>
                    </h2>
                    <div id="collapse-laborales" class="accordion-collapse collapse">
                      <div class="accordion-body text-muted">

                        <!-- Experiencia Laboral -->
                        <div class="card border">
                          <div class="card-header bg-transparent p-2">
                            <h6 class="my-0">Experiencia Laboral</h6>
                          </div>
                          <div class="card-body p-3">
                            <div class="row">
                              <div class="col-xl-4">
                                <button type="button" class="btn bg-agg btn-sm" (click)="agregarExperiencia()">
                                  <i class="fa-solid fa-square-plus"></i> Agregar
                                </button>
                                <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosExperienciaLaboral()">
                                  <i class="fas fa-dot-circle"></i> Sin Datos
                                </button>
                              </div>
                            </div>
                            <div class="row table-responsive mt-2">
                              <table class="table">
                                <thead>
                                  <tr>
                                    <th style="width:250px; min-width:150px;">Institución / Empresa</th>
                                    <th style="width:250px; min-width:150px;">Cargo - Actividad Desempeñada</th>
                                    <th style="width:150px; min-width:130px;">F. Inicio</th>
                                    <th style="width:150px; min-width:130px;">F. Término</th>
                                    <th style="width:220px; min-width:150px;">Documento</th>
                                    <th></th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let expL of experienciaLaboral; let i = index">
                                    <td><input type="text" class="form-control form-control-sm" [(ngModel)]="expL.institucion" required></td>
                                    <td><input type="text" class="form-control form-control-sm" [(ngModel)]="expL.cargo" required></td>
                                    <td><input type="date" class="form-control form-control-sm" [(ngModel)]="expL.inicio" required></td>
                                    <td><input type="date" class="form-control form-control-sm" [(ngModel)]="expL.termino" required></td>
                                    <td>
                                      <input type="file" class="form-control form-control-sm"
                                        accept="application/pdf" (change)="seleccionarArchivoExpLaboral($event, i)">
                                    </td>
                                    <td>
                                      <button type="button" class="btn bg-delete btn-sm"
                                        (click)="eliminarItem(i, 'experienciaLaboral')">
                                        <i class="fa-solid fa-xmark"></i>
                                      </button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              @if(divExperienciaLaboral) {
                                <p class="text-center fw-bold">SIN DATOS DE EXPERIENCIA LABORAL</p>
                              }
                            </div>
                          </div>
                        </div>

                        <!-- Experiencia Docencia -->
                        <div class="card border mt-3">
                          <div class="card-header bg-transparent p-2">
                            <h6 class="my-0">Experiencia de Docencia</h6>
                          </div>
                          <div class="card-body p-3">
                            <div class="row">
                              <div class="col-xl-4">
                                <button type="button" class="btn bg-agg btn-sm" (click)="agregarDocencia()">
                                  <i class="fa-solid fa-square-plus"></i> Agregar
                                </button>
                                <button type="button" class="btn bg-delete btn-sm ms-4" (click)="sinDatosExperienciaDocencia()">
                                  <i class="fas fa-dot-circle"></i> Sin Datos
                                </button>
                              </div>
                            </div>
                            <div class="row table-responsive mt-2">
                              <table class="table">
                                <thead>
                                  <tr>
                                    <th style="width:250px; min-width:150px;">Centro de Enseñanza</th>
                                    <th style="width:250px; min-width:150px;">Curso Dictado</th>
                                    <th style="width:150px; min-width:130px;">F. Inicio</th>
                                    <th style="width:150px; min-width:130px;">F. Término</th>
                                    <th style="width:220px; min-width:150px;">Documento</th>
                                    <th></th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let expD of laborDocencia; let i = index">
                                    <td><input type="text" class="form-control form-control-sm" [(ngModel)]="expD.centro" required></td>
                                    <td><input type="text" class="form-control form-control-sm" [(ngModel)]="expD.curso" required></td>
                                    <td><input type="date" class="form-control form-control-sm" [(ngModel)]="expD.inicio" required></td>
                                    <td><input type="date" class="form-control form-control-sm" [(ngModel)]="expD.termino" required></td>
                                    <td>
                                      <input type="file" class="form-control form-control-sm"
                                        accept="application/pdf" (change)="seleccionarArchivoExpDocencia($event, i)">
                                    </td>
                                    <td>
                                      <button type="button" class="btn bg-delete btn-sm"
                                        (click)="eliminarItem(i, 'laborDocencia')">
                                        <i class="fa-solid fa-xmark"></i>
                                      </button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              @if(divExperienciaDocencia) {
                                <p class="text-center fw-bold">SIN DATOS DE EXPERIENCIA EN DOCENCIA</p>
                              }
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>

                  <!-- ── SITUACIÓN LABORAL ACTUAL ────────────────── -->
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="heading-situacion">
                      <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapse-situacion">
                        SITUACIÓN LABORAL ACTUAL
                      </button>
                    </h2>
                    <div id="collapse-situacion" class="accordion-collapse collapse">
                      <div class="accordion-body text-muted">
                        <div class="row mt-2">

                          <div class="col-xl-3">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-personales">Condición</div>
                              <select class="form-select form-select-sm" [(ngModel)]="tipoEmp">
                                <option value="" selected>Seleccionar</option>
                                <option *ngFor="let tipoE of tipoEmpleado" [value]="tipoE.idTipo">{{ tipoE.tipo }}</option>
                              </select>
                            </div>
                          </div>

                          <div class="col-xl-4">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-personales">G. Ocupacional</div>
                              <select class="form-select form-select-sm" [(ngModel)]="grupOcup">
                                <option value="">Seleccionar</option>
                                <option *ngFor="let tipoG of tipoGrupo" [value]="tipoG.id">{{ tipoG.tipoG }}</option>
                              </select>
                            </div>
                          </div>

                          <div class="col-xl-5">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text">U. Orgánica/Dpto</div>
                              <select class="form-select form-select-sm" [(ngModel)]="valorUnidad" (change)="cambioUnidad()">
                                <option value="" selected>Seleccionar</option>
                                <option *ngFor="let unidad of unidadOrganica" [value]="unidad.id">{{ unidad.unidad }}</option>
                              </select>
                            </div>
                          </div>

                        </div>

                        <div class="row mt-2">

                          <div class="col-xl-3">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text">Régimen</div>
                              <select class="form-select form-select-sm" (change)="cambioTipo()" [(ngModel)]="valorRegimen">
                                <option value="" selected>Seleccionar</option>
                                <option *ngFor="let r of regimen" [value]="r.id">{{ r.regimen }}</option>
                              </select>
                            </div>
                          </div>

                          <div class="col-xl-4">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text">T. Régimen</div>
                              <select class="form-select form-select-sm" [(ngModel)]="valortipRegimen">
                                <option value="" selected>Seleccionar</option>
                                <option *ngFor="let tipoR of tipoRegimen" [value]="tipoR.id">{{ tipoR.tipoRegimen }}</option>
                              </select>
                            </div>
                          </div>

                          <div class="col-xl-5">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text">Servicio/Equipo</div>
                              <select class="form-select form-select-sm" [(ngModel)]="valorServicio">
                                <option value="" selected>Seleccionar</option>
                                <option *ngFor="let servicio of servicioE" [value]="servicio.id">{{ servicio.servicio }}</option>
                              </select>
                            </div>
                          </div>

                        </div>

                        <div class="row mt-2">

                          <div class="col-xl-3">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-personales">C. AIRSHP</div>
                              <input type="text" class="form-control form-control-sm" [(ngModel)]="codigoAirhsp">
                            </div>
                          </div>

                          <div class="col-xl-4">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text d-personales">F. Ingreso</div>
                              <input type="date" class="form-control form-control-sm" [(ngModel)]="fechaIngreso">
                            </div>
                          </div>

                          <div class="col-xl-5">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text">Cargo</div>
                              <ng-select [(ngModel)]="valorCargo" [items]="cargo"
                                bindLabel="descripcion" bindValue="codigo"
                                class="d-block form-control" style="font-size: 0.8rem; height: auto;">
                              </ng-select>
                            </div>
                          </div>

                          <div class="col-xl-3 mt-2">
                            <div class="input-group input-group-sm">
                              <div class="input-group-text">Nivel</div>
                              <ng-select [(ngModel)]="valorNivel" [items]="nivelCargo"
                                bindLabel="nivel" bindValue="nivel"
                                class="d-block form-control" style="font-size: 0.8rem; height: auto;">
                              </ng-select>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>

                </div><!-- fin acordeón -->
              </div>

              <!-- ═══════════════════════════════════════════════ -->
              <!-- BOTONES                                        -->
              <!-- ═══════════════════════════════════════════════ -->
              <div class="mt-4 d-flex justify-content-evenly">
                <button type="button" class="btn bg-delete" routerLink="/legajo/informacion">
                  <i class="fa-solid fa-circle-arrow-left"></i> Regresar
                </button>
                <button type="button" class="btn btn-primary" (click)="registrarEmpleado()">
                  <i class="fa-solid fa-floppy-disk"></i> Registrar
                </button>
              </div>

            </app-loading>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-modal-tomar-foto (capturarImagen)="mandarImagen($event)"></app-modal-tomar-foto>